# How I Built an AI-Powered Expense Tracker with Spring Boot and OpenAI

Managing expenses is a daily need ‚Äî so I built a smart tracker that doesn‚Äôt just store your expenses, but uses **OpenAI‚Äôs GPT** to **categorize them intelligently**.

In this blog, I‚Äôll walk you through how I used **Java 17**, **Spring Boot**, and the **OpenAI API** to build a backend system that automatically organizes your spending by categories like Food, Transport, Health, etc.

The best part? It only cost a few cents thanks to GPT-3.5's affordable API.
## Tech Stack

- **Java 17**
- **Spring Boot 3**
- **Spring Security + JWT** for authentication
- **MongoDB** for database
- **OpenAI GPT-3.5 API** for categorization
- **Lombok** to reduce boilerplate
- **Swagger** for testing APIs
## Why I Chose MongoDB

Instead of using a traditional SQL database like MySQL, I decided to use **MongoDB** because of its flexible schema, native JSON format, and excellent support through Spring Boot's `spring-data-mongodb`.

This made it easier to work with dynamic data like user-generated expense descriptions and future-proofed the app for scaling.
## Using OpenAI GPT-3.5 for Categorization

The core feature of this app is AI-powered categorization. I used OpenAI‚Äôs GPT-3.5 Turbo API to process natural language expense descriptions like "Uber to Colombo" or "Dinner at Pizza Hut" and classify them into categories like Transport or Food.

I used OkHttp to send a request to the API with the expense description and parsed the JSON response to extract the category.
## Expense Service: Save + Categorize Automatically

In the service layer, before saving an expense to MongoDB, I check if the category is missing. If so, I call the OpenAI API to generate a category based on the description. This allows users to simply type something like "Bought mangoes" or "Pizza at Domino‚Äôs" and let the app auto-classify it.

The expense is saved with a timestamp and can be retrieved later using the user ID.
## üîê Implementing JWT Authentication with Spring Security

To keep our app secure, we use JWT (JSON Web Token) based authentication. Here‚Äôs how we broke it down:

- Created a `User` model stored in MongoDB.
- Integrated Spring Security and JWT with a utility to generate and validate tokens.
- Used BCrypt hashing to securely store user passwords.
- Setup a `UserRepository` and `PasswordEncoder` bean for our service layer.

This gives our app secure login, token-based API access, and password protection ‚Äî without needing external auth services.
## üîê Securing APIs with JWT + Spring Security

We used Spring Security + JWT to secure our endpoints. Here‚Äôs what we did:

- Built a custom `SecurityConfig` with a JWT filter.
- Added user registration & login endpoints via `AuthController`.
- On registration/login, users receive a JWT token.
- Protected other routes so only authenticated users can access them using the `Authorization: Bearer <token>` header.

Now, only valid users can access their own smart expense data.


---

## üß† Features Powered by GPT

- **Auto-categorization** of expenses using natural language prompts
- **Smart monthly summary** via GPT (e.g., "You spent more on Transport this month")
- Easily extensible to add budget suggestions, trend analysis, and insights

---

## üîê JWT Authentication with Spring Security

We implemented JWT-based authentication to secure the API:

- User registration & login endpoints
- Passwords hashed using BCrypt
- JWT generation and validation
- Protected routes for expense CRUD operations

### Sample Auth Flow

1. `POST /auth/register` ‚Üí Register a user
2. `POST /auth/login` ‚Üí Returns JWT
3. Send `Authorization: Bearer <token>` in all future requests

---

## üßæ Expense Creation + GPT Categorization

Users can create expenses by sending descriptions like:

- `Lunch at Pizza Hut`
- `Uber to Colombo`
- `Bought groceries from Keells`

If the category is not provided, the app will:

1. Call OpenAI's GPT API with the description
2. Receive a category like Food, Transport, Shopping
3. Save it in MongoDB with timestamp and user reference

---

## üóìÔ∏è Monthly Summary API (AI Generated)

We built an API that gives smart monthly summaries using GPT:

> *"In July, you spent 45% on Food, followed by 25% on Transport. Your spending increased compared to June."*

This is generated by sending categorized expense data to GPT and asking it to generate a friendly summary.

---

## üß™ API Testing with Swagger & Postman

- Swagger is integrated for interactive API testing
- Postman collections can be used to test registration, login, add expense, and fetch summaries

---

## ‚òÅÔ∏è Deployment

This app can be deployed to:

- **Contabo VPS** (Spring Boot JAR)
- **Render / Railway / Cyclic** (Free-tier)
- MongoDB Atlas for database hosting

---

## üìö Future Improvements

- Add daily/weekly expense reminders
- Export reports as PDF or CSV
- AI-powered budget suggestions
- Frontend dashboard with charts
- OTP-based email verification

---

## üôå Contributions

Feel free to fork this project and improve it. Pull requests are welcome!

---

## ü§ñ Connect With Me

I'm passionate about AI + Java + Open Source.

If this project helped or inspired you, consider giving it a ‚≠ê on GitHub or connecting on [LinkedIn](https://www.linkedin.com/in/lahiru-premathilaka).

---
